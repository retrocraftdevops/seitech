<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Instructor Form View -->
        <record id="view_instructor_form" model="ir.ui.view">
            <field name="name">seitech.instructor.form</field>
            <field name="model">seitech.instructor</field>
            <field name="arch" type="xml">
                <form string="Instructor">
                    <header>
                        <button name="action_approve" string="Approve" type="object"
                                class="btn-primary" invisible="state != 'pending'"
                                groups="seitech_elearning.group_elearning_manager"/>
                        <button name="action_suspend" string="Suspend" type="object"
                                invisible="state != 'active'"
                                groups="seitech_elearning.group_elearning_manager"/>
                        <button name="action_reactivate" string="Reactivate" type="object"
                                invisible="state != 'suspended'"
                                groups="seitech_elearning.group_elearning_manager"/>
                        <field name="state" widget="statusbar"
                               statusbar_visible="pending,active"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="action_view_courses" type="object"
                                    class="oe_stat_button" icon="fa-book">
                                <field name="course_count" widget="statinfo" string="Courses"/>
                            </button>
                            <button name="action_view_enrollments" type="object"
                                    class="oe_stat_button" icon="fa-users">
                                <field name="total_enrollments" widget="statinfo" string="Enrollments"/>
                            </button>
                            <button name="action_view_schedules" type="object"
                                    class="oe_stat_button" icon="fa-calendar">
                                <span class="o_stat_text">Classes</span>
                            </button>
                        </div>
                        <field name="image" widget="image" class="oe_avatar"/>
                        <widget name="web_ribbon" title="Featured" bg_color="bg-warning"
                                invisible="not is_featured"/>
                        <div class="oe_title">
                            <h1><field name="name" placeholder="Instructor Name"/></h1>
                            <field name="title" placeholder="Professional Title"/>
                        </div>
                        <group>
                            <group>
                                <field name="user_id"/>
                                <field name="email"/>
                                <field name="phone"/>
                                <field name="website" widget="url"/>
                            </group>
                            <group>
                                <field name="expertise"/>
                                <field name="is_featured"/>
                                <field name="average_rating" widget="priority" readonly="1"/>
                                <field name="total_reviews" readonly="1"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Biography" name="bio">
                                <field name="short_bio" placeholder="Short bio (200 chars max)..."/>
                                <field name="bio" placeholder="Full biography..."/>
                                <field name="qualifications" placeholder="Qualifications and certifications..."/>
                            </page>
                            <page string="Social Media" name="social">
                                <group>
                                    <field name="linkedin_url" widget="url"/>
                                    <field name="twitter_url" widget="url"/>
                                    <field name="youtube_url" widget="url"/>
                                    <field name="github_url" widget="url"/>
                                </group>
                            </page>
                            <page string="Courses" name="courses">
                                <field name="channel_ids">
                                    <list>
                                        <field name="name"/>
                                        <field name="is_published"/>
                                        <field name="total_votes"/>
                                    </list>
                                </field>
                            </page>
                            <page string="Financial" name="financial"
                                  groups="seitech_elearning.group_elearning_manager">
                                <group>
                                    <group>
                                        <field name="commission_rate"/>
                                        <field name="total_revenue"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Documents" name="documents"
                                  groups="seitech_elearning.group_elearning_manager">
                                <group>
                                    <field name="contract_attachment_id"/>
                                    <field name="tax_document_id"/>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                    <chatter/>
                </form>
            </field>
        </record>

        <!-- Instructor List View -->
        <record id="view_instructor_list" model="ir.ui.view">
            <field name="name">seitech.instructor.list</field>
            <field name="model">seitech.instructor</field>
            <field name="arch" type="xml">
                <list string="Instructors"
                      decoration-success="state == 'active'"
                      decoration-warning="state == 'pending'"
                      decoration-danger="state == 'suspended'">
                    <field name="image" widget="image" class="oe_avatar"/>
                    <field name="name"/>
                    <field name="title"/>
                    <field name="email"/>
                    <field name="course_count"/>
                    <field name="total_students"/>
                    <field name="average_rating" widget="priority"/>
                    <field name="state" widget="badge"/>
                </list>
            </field>
        </record>

        <!-- Instructor Kanban View -->
        <record id="view_instructor_kanban" model="ir.ui.view">
            <field name="name">seitech.instructor.kanban</field>
            <field name="model">seitech.instructor</field>
            <field name="arch" type="xml">
                <kanban>
                    <field name="name"/>
                    <field name="title"/>
                    <field name="image"/>
                    <field name="course_count"/>
                    <field name="average_rating"/>
                    <field name="state"/>
                    <templates>
                        <t t-name="card">
                            <aside>
                                <field name="image" widget="image" class="o_kanban_image"/>
                            </aside>
                            <main>
                                <field name="name" class="fw-bold fs-5"/>
                                <field name="title" class="text-muted"/>
                                <div class="d-flex gap-2 mt-2">
                                    <span class="badge text-bg-info">
                                        <field name="course_count"/> courses
                                    </span>
                                    <field name="state" widget="badge"/>
                                </div>
                            </main>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- Instructor Action -->
        <record id="action_instructor" model="ir.actions.act_window">
            <field name="name">Instructors</field>
            <field name="res_model">seitech.instructor</field>
            <field name="view_mode">kanban,list,form</field>
            
            <field name="context">{'search_default_filter_active': 1}</field>
        </record>

    </data>
</odoo>
