#!/usr/bin/env node
/**
 * Agent 1: Generate SCSS variables from design tokens
 * This ensures Odoo theme matches Next.js exactly
 */

const designTokens = require('../config/design-tokens.ts');
const fs = require('fs');
const path = require('path');

function generateScssVariables() {
  let scss = `// ==========================================================================
// Auto-generated from design-tokens.ts
// DO NOT EDIT THIS FILE DIRECTLY
// Run: npm run generate:scss-tokens
// ==========================================================================

`;

  // Colors
  scss += `// Primary Colors\n`;
  Object.entries(designTokens.colors.primary).forEach(([key, value]) => {
    scss += `$seitech-primary-${key}: ${value};\n`;
  });

  scss += `\n// Secondary Colors\n`;
  Object.entries(designTokens.colors.secondary).forEach(([key, value]) => {
    scss += `$seitech-secondary-${key}: ${value};\n`;
  });

  scss += `\n// Gray Scale\n`;
  Object.entries(designTokens.colors.gray).forEach(([key, value]) => {
    scss += `$seitech-gray-${key}: ${value};\n`;
  });

  // Main brand colors
  scss += `\n// Main Brand Colors (for backward compatibility)\n`;
  scss += `$seitech-primary: ${designTokens.colors.primary[600]};\n`;
  scss += `$seitech-secondary: ${designTokens.colors.secondary[600]};\n`;

  return scss;
}

const outputPath = path.join(
  __dirname,
  '../../custom_addons/seitech_website_theme/static/src/scss/_generated-tokens.scss'
);

const scss = generateScssVariables();
fs.writeFileSync(outputPath, scss);

console.log('âœ“ Generated SCSS tokens:', outputPath);
